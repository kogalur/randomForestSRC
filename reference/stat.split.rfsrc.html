<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Acquire Split Statistic Information — stat.split.rfsrc • Random Forests for Survival, Regression, and Classification</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Acquire Split Statistic Information — stat.split.rfsrc" />
<meta property="og:description" content="Extract split statistic information from the forest.  The function
  returns a list of length ntree, in which each element
  corresponds to a tree.  The element [[b]] is itself a vector of length
  xvar.names identified by its x-variable name.  Each element [[b]]$xvar
  contains the complete list of splits on xvar with associated
  identifying information.  The information is as follows:

treeID Tree identifier.
nodeID Node identifier.
parmID Variable indentifier.
contPT Value node was split in the case of a
    continuous variable.
mwcpSZ Size of the multi-word complementary pair
    in the case of a factor split.
dpthID Zero (0) based depth of split.
spltTY Split type for parent node:

bit 1bit 0meaning
-----------------
000 = both daughters have valid splits
011 = only the right daughter is terminal
102 = only the left daughter is terminal
113 = both daughters are terminal


spltEC End cut statistic for real valued variables
    between [0,0.5] that is small when the split is towards the edge and
    large when the split is towards the middle.  Subtracting this value
    from 0.5 yields the end cut statistic studied in Ishwaran (2014) and
    is a way to identify ECP behavior (end cut preference behavior).
spltST Split statistic:

For objects of class (rfsrc, grow), this is the split
      statistic that resulted in the variable being choosen for
      the split.
For an object of class (rfsrc, pred) this is the
      variance of the response within the node for the test data.
      This value is relevant only for real valued responses.  In
      classification and survival, it is not relevant.


" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-000000-01"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-000000-01');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Random Forests for Survival, Regression, and Classification</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">2.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/getstarted.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getstarted.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/rfsrc-introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/installation.html">Installing randomForestSRC</a>
    </li>
    <li>
      <a href="../articles/parallel.html">Speedup Random Forest Analyses</a>
    </li>
    <li>
      <a href="../articles/regression.html">Regression Problem</a>
    </li>
    <li>
      <a href="../articles/classification.html">Classification Problem</a>
    </li>
    <li>
      <a href="../articles/survival.html">Survival Problem</a>
    </li>
    <li>
      <a href="../articles/imbalance.html">Classifiers for Class Imbalanced Data</a>
    </li>
    <li>
      <a href="../articles/rfsrc-subsample.html">Variable Importance with Subsampling Inferences</a>
    </li>
    <li>
      <a href="../articles/partial.html">Partial Plot</a>
    </li>
    <li>
      <a href="../articles/trees.html">Inferences from Trees</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/kogalur/randomForestSRC/issues">Bug Reporting</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/kogalur/randomForestSRC/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Acquire Split Statistic Information</h1>
    
    <div class="hidden name"><code>stat.split.rfsrc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract split statistic information from the forest.  The function
  returns a list of length <code>ntree</code>, in which each element
  corresponds to a tree.  The element [[b]] is itself a vector of length
  xvar.names identified by its x-variable name.  Each element [[b]]$xvar
  contains the complete list of splits on xvar with associated
  identifying information.  The information is as follows:</p>
<p></p><ol>
<li><p><em>treeID</em> Tree identifier.</p></li>
<li><p><em>nodeID</em> Node identifier.</p></li>
<li><p><em>parmID</em> Variable indentifier.</p></li>
<li><p><em>contPT</em> Value node was split in the case of a
    continuous variable.</p></li>
<li><p><em>mwcpSZ</em> Size of the multi-word complementary pair
    in the case of a factor split.</p></li>
<li><p><em>dpthID</em> Zero (0) based depth of split.</p></li>
<li><p><em>spltTY</em> Split type for parent node:</p>
<p></p><table class='table'>
<tr><td>bit 1</td><td>bit 0</td><td>meaning</td></tr>
<tr><td>-----</td><td>-----</td><td>-------</td></tr>
<tr><td>0</td><td>0</td><td>0 = both daughters have valid splits</td></tr>
<tr><td>0</td><td>1</td><td>1 = only the right daughter is terminal</td></tr>
<tr><td>1</td><td>0</td><td>2 = only the left daughter is terminal</td></tr>
<tr><td>1</td><td>1</td><td>3 = both daughters are terminal</td></tr>
</table>
</li>
<li><p><em>spltEC</em> End cut statistic for real valued variables
    between [0,0.5] that is small when the split is towards the edge and
    large when the split is towards the middle.  Subtracting this value
    from 0.5 yields the end cut statistic studied in Ishwaran (2014) and
    is a way to identify ECP behavior (end cut preference behavior).</p></li>
<li><p><em>spltST</em> Split statistic:</p>
<p></p><ol>
<li><p>For objects of class (rfsrc, grow), this is the split
      statistic that resulted in the variable being choosen for
      the split.</p></li>
<li><p>For an object of class (rfsrc, pred) this is the
      variance of the response within the node for the test data.
      This value is relevant only for real valued responses.  In
      classification and survival, it is not relevant.</p></li>
</ol></li>
</ol>

    </div>

    <pre class="usage"><span class='fu'>stat.split</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object of class <code>(rfsrc, grow)</code>,
    <code>(rfsrc, synthetic)</code>  or <code>(rfsrc,
	    predict)</code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to or from other methods.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Invisibly, a list with the following components:</p>
<dt>...</dt><dd><p>...</p></dd>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Hemant Ishwaran and Udaya B. Kogalur</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Ishwaran H. (2015).  The effect of splitting on random forests.
  <em>Machine Learning</em>, 99:75-118.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># \donttest{</span>
<span class='co'>## run a forest, then make a call to stat.split</span>
<span class='va'>grow.obj</span> <span class='op'>&lt;-</span> <span class='fu'><a href='rfsrc.html'>rfsrc</a></span><span class='op'>(</span><span class='va'>mpg</span> <span class='op'>~</span><span class='va'>.</span>, data <span class='op'>=</span> <span class='va'>mtcars</span>, membership<span class='op'>=</span><span class='cn'>TRUE</span>, statistics<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>stat.obj</span> <span class='op'>&lt;-</span> <span class='fu'>stat.split</span><span class='op'>(</span><span class='va'>grow.obj</span><span class='op'>)</span>

<span class='co'>## nice wrapper to extract split-statistic for desired variable</span>
<span class='co'>## for continuous variables plots ECP data</span>
<span class='va'>get.split</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>splitObj</span>, <span class='va'>xvar</span>, <span class='va'>inches</span> <span class='op'>=</span> <span class='fl'>0.1</span>, <span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>which.var</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>splitObj</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span> <span class='op'>==</span> <span class='va'>xvar</span><span class='op'>)</span>
  <span class='va'>ntree</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>splitObj</span><span class='op'>)</span>
  <span class='va'>stat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span><span class='op'>(</span><span class='va'>rbind</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='va'>ntree</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>b</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>splitObj</span><span class='op'>[[</span><span class='va'>b</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[</span><span class='va'>which.var</span><span class='op'>]</span><span class='op'>}</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
  <span class='va'>dpth</span> <span class='op'>&lt;-</span> <span class='va'>stat</span><span class='op'>$</span><span class='va'>dpthID</span>
  <span class='va'>ecp</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>/</span><span class='fl'>2</span> <span class='op'>-</span> <span class='va'>stat</span><span class='op'>$</span><span class='va'>spltEC</span>
  <span class='va'>sp</span> <span class='op'>&lt;-</span> <span class='va'>stat</span><span class='op'>$</span><span class='va'>contPT</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/all.html'>all</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>sp</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>fgC</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>x</span>, breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.35</span>, <span class='fl'>0.5</span><span class='op'>)</span>,
      labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>4</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
    <span class='op'>}</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/symbols.html'>symbols</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/jitter.html'>jitter</a></span><span class='op'>(</span><span class='va'>sp</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/jitter.html'>jitter</a></span><span class='op'>(</span><span class='va'>dpth</span><span class='op'>)</span>, <span class='va'>ecp</span>, inches <span class='op'>=</span> <span class='va'>inches</span>, bg <span class='op'>=</span> <span class='fu'>fgC</span><span class='op'>(</span><span class='va'>ecp</span><span class='op'>)</span>,
      xlab <span class='op'>=</span> <span class='va'>xvar</span>, ylab <span class='op'>=</span> <span class='st'>"node depth"</span>, <span class='va'>...</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></span><span class='op'>(</span><span class='st'>"topleft"</span>, legend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"low ecp"</span>, <span class='st'>"med ecp"</span>, <span class='st'>"high ecp"</span><span class='op'>)</span>,
      fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>4</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
   <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/invisible.html'>invisible</a></span><span class='op'>(</span><span class='va'>stat</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## use get.split to investigate ECP behavior of variables</span>
<span class='fu'>get.split</span><span class='op'>(</span><span class='va'>stat.obj</span>, <span class='st'>"disp"</span><span class='op'>)</span>
<span class='co'># }</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Min Lu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


